<div class="system-chat-pane" id={"system-chat-#{@id}"}>
  <!-- Pane Toolbar -->
  <div class="pane-toolbar">
    <div class="toolbar-left">
      <span class="message-count">{@message_count} messages</span>
    </div>
    <div class="toolbar-right">
      <button class="toolbar-btn" phx-click="toggle_auto_scroll" title="Toggle Auto-scroll">
        {if @auto_scroll, do: "📌", else: "📍"}
      </button>
      <button class="toolbar-btn" phx-click="scroll_to_top" title="Scroll to Top">
        ⬆️
      </button>
      <button class="toolbar-btn" phx-click="scroll_to_bottom" title="Scroll to Bottom">
        ⬇️
      </button>
      <button class="toolbar-btn" phx-click="clear_messages" title="Clear Messages">
        🗑️
      </button>
    </div>
  </div>
  
<!-- Message Filters -->
  <div class="message-filters">
    <label class="filter-item">
      <input
        type="checkbox"
        checked={@filters.combat}
        phx-click="toggle_filter"
        phx-value-filter="combat"
      />
      <span class="filter-label">Combat</span>
    </label>
    <label class="filter-item">
      <input
        type="checkbox"
        checked={@filters.system}
        phx-click="toggle_filter"
        phx-value-filter="system"
      />
      <span class="filter-label">System</span>
    </label>
    <label class="filter-item">
      <input
        type="checkbox"
        checked={@filters.error}
        phx-click="toggle_filter"
        phx-value-filter="error"
      />
      <span class="filter-label">Errors</span>
    </label>
    <label class="filter-item">
      <input
        type="checkbox"
        checked={@filters.debug}
        phx-click="toggle_filter"
        phx-value-filter="debug"
      />
      <span class="filter-label">Debug</span>
    </label>
  </div>
  
<!-- Messages Container -->
  <div
    class="messages-container"
    id={"messages-#{@id}"}
    phx-hook="ChatScroll"
    data-auto-scroll={@auto_scroll}
  >
    <%= if Enum.empty?(@messages) do %>
      <div class="no-messages">
        <p>No system messages yet.</p>
        <p>Combat logs and system events will appear here.</p>
      </div>
    <% else %>
      <%= for message <- get_filtered_messages(@messages, @filters) do %>
        <div class={get_message_class(message)} id={"message-#{message.id}"}>
          <span class="message-timestamp">[{format_timestamp(message.timestamp)}]</span>
          <span class="message-content">{message.content}</span>
        </div>
      <% end %>
    <% end %>
  </div>
  
<!-- Pane Footer -->
  <div class="pane-footer">
    <div class="footer-info">
      <span class="channel-name">System Channel</span>
      <span class="channel-status">Active</span>
    </div>
  </div>
</div>
